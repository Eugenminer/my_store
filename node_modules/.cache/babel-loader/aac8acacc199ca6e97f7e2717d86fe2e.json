{"ast":null,"code":"import \"core-js/modules/es.array.sort.js\";\nimport products from '../data/Products';\nimport _categories from '../data/Categories';\nexport default {\n  components: {},\n  props: ['categoryId', 'priceFrom', 'priceTo', 'keyWord'],\n  watch: {\n    categoryId: function categoryId(value) {\n      this.currentCategoryId = value;\n    },\n    priceFrom: function priceFrom(value) {\n      this.currentPriceFrom = value;\n    },\n    priceTo: function priceTo(value) {\n      this.currentPriceTo = value;\n    },\n    keyWord: function keyWord(value) {\n      this.currentKeyWord = value;\n    }\n  },\n  data: function data() {\n    return {\n      currentCategoryId: 0,\n      currentPriceFrom: 0,\n      currentPriceTo: 0,\n      currentKeyWord: ''\n    };\n  },\n  methods: {\n    submit: function submit() {\n      this.$emit('update:categoryId', this.currentCategoryId);\n      this.$emit('update:priceFrom', this.currentPriceFrom);\n      this.$emit('update:priceTo', this.currentPriceTo);\n      this.$emit('update:keyWord', this.currentKeyWord);\n    },\n    reset: function reset() {\n      this.$emit('update:categoryId', 0);\n      this.$emit('update:priceFrom', 0);\n      this.$emit('update:priceTo', 0);\n      this.$emit('update:keyWord', '');\n    }\n  },\n  computed: {\n    filterRangePrice: function filterRangePrice() {\n      var prods = products;\n      prods.sort(function (a, b) {\n        return a.price - b.price;\n      });\n      var startPrice = Math.floor(prods[0].price);\n      var endPrice = Math.ceil(prods[prods.length - 1].price);\n      var range = [];\n      var numberDigit = String(endPrice - startPrice).length;\n      var step = (endPrice - startPrice) / 10;\n      step /= Math.pow(10, numberDigit - 2);\n      step = Math.round(step * Math.pow(10, numberDigit - 3)) * 10;\n      range.push(0);\n      var val = startPrice;\n\n      while (val < endPrice) {\n        range.push(val);\n        val += step;\n      }\n\n      range.push(endPrice);\n      return range;\n    },\n    categories: function categories() {\n      return _categories;\n    }\n  }\n};","map":{"version":3,"mappings":";AAuCA,OAAOA,QAAP,MAAqB,kBAArB;AACA,OAAOC,WAAP,MAAuB,oBAAvB;AAEA,eAAe;EACbC,UAAU,EAAE,EADC;EAIbC,KAAK,EAAE,CAAC,YAAD,EAAe,WAAf,EAA4B,SAA5B,EAAuC,SAAvC,CAJM;EAKbC,KAAK,EAAE;IACLC,UADK,sBACMC,KADN,EACa;MAChB,KAAKC,iBAAL,GAAyBD,KAAzB;IACD,CAHI;IAILE,SAJK,qBAIKF,KAJL,EAIY;MACf,KAAKG,gBAAL,GAAwBH,KAAxB;IACD,CANI;IAOLI,OAPK,mBAOGJ,KAPH,EAOU;MACb,KAAKK,cAAL,GAAsBL,KAAtB;IACD,CATI;IAULM,OAVK,mBAUGN,KAVH,EAUU;MACb,KAAKO,cAAL,GAAsBP,KAAtB;IACD;EAZI,CALM;EAmBbQ,IAnBa,kBAmBN;IACL,OAAO;MACLP,iBAAiB,EAAE,CADd;MAELE,gBAAgB,EAAE,CAFb;MAGLE,cAAc,EAAE,CAHX;MAILE,cAAc,EAAE;IAJX,CAAP;EAMD,CA1BY;EA2BbE,OAAO,EAAE;IACPC,MADO,oBACE;MACP,KAAKC,KAAL,CAAW,mBAAX,EAAgC,KAAKV,iBAArC;MACA,KAAKU,KAAL,CAAW,kBAAX,EAA+B,KAAKR,gBAApC;MACA,KAAKQ,KAAL,CAAW,gBAAX,EAA6B,KAAKN,cAAlC;MACA,KAAKM,KAAL,CAAW,gBAAX,EAA6B,KAAKJ,cAAlC;IACD,CANM;IAOPK,KAPO,mBAOC;MACN,KAAKD,KAAL,CAAW,mBAAX,EAAgC,CAAhC;MACA,KAAKA,KAAL,CAAW,kBAAX,EAA+B,CAA/B;MACA,KAAKA,KAAL,CAAW,gBAAX,EAA6B,CAA7B;MACA,KAAKA,KAAL,CAAW,gBAAX,EAA6B,EAA7B;IACD;EAZM,CA3BI;EAyCbE,QAAQ,EAAE;IACRC,gBADQ,8BACW;MACjB,IAAMC,KAAI,GAAIrB,QAAd;MACAqB,KAAK,CAACC,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ;QAAA,OAAUD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAtB;MAAA,CAAX;MACA,IAAMC,UAAS,GAAIC,IAAI,CAACC,KAAL,CAAWP,KAAK,CAAC,CAAD,CAAL,CAASI,KAApB,CAAnB;MACA,IAAMI,QAAO,GAAIF,IAAI,CAACG,IAAL,CAAUT,KAAK,CAACA,KAAK,CAACU,MAAN,GAAe,CAAhB,CAAL,CAAwBN,KAAlC,CAAjB;MACA,IAAMO,KAAI,GAAI,EAAd;MACA,IAAMC,WAAU,GAAIC,MAAM,CAACL,QAAO,GAAIH,UAAZ,CAAN,CAA8BK,MAAlD;MACA,IAAII,IAAG,GAAI,CAACN,QAAO,GAAIH,UAAZ,IAA0B,EAArC;MACAS,IAAG,aAAM,EAAN,EAAaF,WAAU,GAAI,CAA3B,CAAH;MACAE,IAAG,GAAIR,IAAI,CAACS,KAAL,CAAWD,IAAG,YAAK,EAAL,EAAYF,WAAU,GAAI,CAA1B,CAAd,IAA+C,EAAtD;MACAD,KAAK,CAACK,IAAN,CAAW,CAAX;MACA,IAAIC,GAAE,GAAIZ,UAAV;;MACA,OAAOY,GAAE,GAAIT,QAAb,EAAuB;QACrBG,KAAK,CAACK,IAAN,CAAWC,GAAX;QACAA,GAAE,IAAKH,IAAP;MACF;;MACAH,KAAK,CAACK,IAAN,CAAWR,QAAX;MAEA,OAAOG,KAAP;IACD,CApBO;IAqBR/B,UArBQ,wBAqBK;MACX,OAAOA,WAAP;IACD;EAvBO;AAzCG,CAAf","names":["products","categories","components","props","watch","categoryId","value","currentCategoryId","priceFrom","currentPriceFrom","priceTo","currentPriceTo","keyWord","currentKeyWord","data","methods","submit","$emit","reset","computed","filterRangePrice","prods","sort","a","b","price","startPrice","Math","floor","endPrice","ceil","length","range","numberDigit","String","step","round","push","val"],"sourceRoot":"","sources":["C:\\Projects\\vue\\my_store\\src\\components\\ProductSearch.vue"],"sourcesContent":["<template>\n<div class=\"box search\">\n  <h2>Search by <span></span></h2>\n  <div class=\"box-content\">\n    <form action=\"#\"  @submit.prevent=\"submit\">\n      Keyword\n      <input class=\"field\" v-model=\"currentKeyWord\"/>\n      Category\n      <select class=\"field\" v-model=\"currentCategoryId\">\n        <option :value=\"category.id\" v-for=\"category in categories\" :key=\"category.id\">\n          {{category.title}}\n        </option>\n      </select>\n      <div class=\"inline-field\">\n        Price\n        <select class=\"field small-field\" v-model=\"currentPriceFrom\">\n          <option :value=\"price\" v-for=\"price in filterRangePrice\" :key=\"'priceFrom:' + price\">\n            {{price === 0 ? '-' : '$' + price}}\n          </option>\n        </select>\n        to:\n        <select class=\"field small-field\" v-model=\"currentPriceTo\">\n          <option :value=\"price\" v-for=\"price in filterRangePrice\" :key=\"'priceTo' + price\">\n            {{price === 0 ? '-' : '$' + price}}\n          </option>\n        </select>\n      </div>\n      <div class=\"inline-field\">\n        <input type=\"submit\" class=\"search-submit\" value=\"Search\" />\n        <input type=\"reset\" class=\"search-submit\" value=\"Reset\" @click.prevent=\"reset\" />\n      </div>\n      <p> <a href=\"#\" class=\"bul\">Advanced search</a><br />\n        <a href=\"#\" class=\"bul\">Contact Customer Support</a> </p>\n    </form>\n  </div>\n</div>\n</template>\n\n<script>\nimport products from '../data/Products';\nimport categories from '../data/Categories';\n\nexport default {\n  components: {\n\n  },\n  props: ['categoryId', 'priceFrom', 'priceTo', 'keyWord'],\n  watch: {\n    categoryId(value) {\n      this.currentCategoryId = value;\n    },\n    priceFrom(value) {\n      this.currentPriceFrom = value;\n    },\n    priceTo(value) {\n      this.currentPriceTo = value;\n    },\n    keyWord(value) {\n      this.currentKeyWord = value;\n    },\n  },\n  data() {\n    return {\n      currentCategoryId: 0,\n      currentPriceFrom: 0,\n      currentPriceTo: 0,\n      currentKeyWord: '',\n    };\n  },\n  methods: {\n    submit() {\n      this.$emit('update:categoryId', this.currentCategoryId);\n      this.$emit('update:priceFrom', this.currentPriceFrom);\n      this.$emit('update:priceTo', this.currentPriceTo);\n      this.$emit('update:keyWord', this.currentKeyWord);\n    },\n    reset() {\n      this.$emit('update:categoryId', 0);\n      this.$emit('update:priceFrom', 0);\n      this.$emit('update:priceTo', 0);\n      this.$emit('update:keyWord', '');\n    },\n  },\n  computed: {\n    filterRangePrice() {\n      const prods = products;\n      prods.sort((a, b) => a.price - b.price);\n      const startPrice = Math.floor(prods[0].price);\n      const endPrice = Math.ceil(prods[prods.length - 1].price);\n      const range = [];\n      const numberDigit = String(endPrice - startPrice).length;\n      let step = (endPrice - startPrice) / 10;\n      step /= (10 ** (numberDigit - 2));\n      step = Math.round(step * (10 ** (numberDigit - 3))) * 10;\n      range.push(0);\n      let val = startPrice;\n      while (val < endPrice) {\n        range.push(val);\n        val += step;\n      }\n      range.push(endPrice);\n\n      return range;\n    },\n    categories() {\n      return categories;\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\">\n.search { min-height:252px;}\n.search label { display:block; padding-bottom:3px; }\n\n.search .field { display:block; margin-bottom:10px; }\n.search .inline-field label { display:inline; padding:0; }\n.search .inline-field .field { display:inline; margin:0; }\n.search input.field { width:206px; }\n.search select.field { width:212px; }\n.search select.small-field { width:60px; }\n\n.search-submit {\n  width:70px; background:#8b0000; border:0; color:#fff; height:27px;\n  display:inline; line-height:26px; cursor:pointer; margin:12px 10px 10px 0px;}\n\n.field { background:#ebebeb; border:solid 1px #dedede; padding:2px;}\n</style>\n"]},"metadata":{},"sourceType":"module"}