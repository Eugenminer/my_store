{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"box search\"\n};\n\nvar _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", null, [/*#__PURE__*/_createTextVNode(\"Search by \"), /*#__PURE__*/_createElementVNode(\"span\")], -1\n/* HOISTED */\n);\n\nvar _hoisted_3 = {\n  \"class\": \"box-content\"\n};\n\nvar _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Keyword \");\n\nvar _hoisted_5 = /*#__PURE__*/_createTextVNode(\" Category \");\n\nvar _hoisted_6 = [\"value\"];\nvar _hoisted_7 = {\n  \"class\": \"inline-field\"\n};\n\nvar _hoisted_8 = /*#__PURE__*/_createTextVNode(\" Price \");\n\nvar _hoisted_9 = [\"value\"];\n\nvar _hoisted_10 = /*#__PURE__*/_createTextVNode(\" to: \");\n\nvar _hoisted_11 = [\"value\"];\nvar _hoisted_12 = {\n  \"class\": \"inline-field\"\n};\n\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  \"class\": \"search-submit\",\n  value: \"Search\"\n}, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_14 = /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\",\n  \"class\": \"bul\"\n}, \"Advanced search\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\",\n  \"class\": \"bul\"\n}, \"Contact Customer Support\")], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    action: \"#\",\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers(function () {\n      return $options.submit && $options.submit.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"class\": \"field\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.currentKeyWord = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.currentKeyWord]]), _hoisted_5, _withDirectives(_createElementVNode(\"select\", {\n    \"class\": \"field\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.currentCategoryId = $event;\n    })\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.categories, function (category) {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: category.id,\n      key: category.id\n    }, _toDisplayString(category.title), 9\n    /* TEXT, PROPS */\n    , _hoisted_6);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $data.currentCategoryId]]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"select\", {\n    \"class\": \"field small-field\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $data.currentPriceFrom = $event;\n    })\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filterRangePrice, function (price) {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: price,\n      key: 'priceFrom:' + price\n    }, _toDisplayString(price === 0 ? '-' : '$' + price), 9\n    /* TEXT, PROPS */\n    , _hoisted_9);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $data.currentPriceFrom]]), _hoisted_10, _withDirectives(_createElementVNode(\"select\", {\n    \"class\": \"field small-field\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $data.currentPriceTo = $event;\n    })\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filterRangePrice, function (price) {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: price,\n      key: 'priceTo' + price\n    }, _toDisplayString(price === 0 ? '-' : '$' + price), 9\n    /* TEXT, PROPS */\n    , _hoisted_11);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $data.currentPriceTo]])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"input\", {\n    type: \"reset\",\n    \"class\": \"search-submit\",\n    value: \"Reset\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers(function () {\n      return $options.reset && $options.reset.apply($options, arguments);\n    }, [\"prevent\"]))\n  })]), _hoisted_14], 32\n  /* HYDRATE_EVENTS */\n  )])]);\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","type","value","href","_createElementBlock","_hoisted_2","action","onSubmit","$options","$data","$event","_Fragment","_renderList","category","id","key","title","_hoisted_6","price","_hoisted_9","_hoisted_11","_hoisted_13","onClick","_hoisted_14"],"sourceRoot":"","sources":["C:\\Projects\\vue\\my_store\\src\\components\\ProductSearch.vue"],"sourcesContent":["<template>\n<div class=\"box search\">\n  <h2>Search by <span></span></h2>\n  <div class=\"box-content\">\n    <form action=\"#\"  @submit.prevent=\"submit\">\n      Keyword\n      <input class=\"field\" v-model=\"currentKeyWord\"/>\n      Category\n      <select class=\"field\" v-model=\"currentCategoryId\">\n        <option :value=\"category.id\" v-for=\"category in categories\" :key=\"category.id\">\n          {{category.title}}\n        </option>\n      </select>\n      <div class=\"inline-field\">\n        Price\n        <select class=\"field small-field\" v-model=\"currentPriceFrom\">\n          <option :value=\"price\" v-for=\"price in filterRangePrice\" :key=\"'priceFrom:' + price\">\n            {{price === 0 ? '-' : '$' + price}}\n          </option>\n        </select>\n        to:\n        <select class=\"field small-field\" v-model=\"currentPriceTo\">\n          <option :value=\"price\" v-for=\"price in filterRangePrice\" :key=\"'priceTo' + price\">\n            {{price === 0 ? '-' : '$' + price}}\n          </option>\n        </select>\n      </div>\n      <div class=\"inline-field\">\n        <input type=\"submit\" class=\"search-submit\" value=\"Search\" />\n        <input type=\"reset\" class=\"search-submit\" value=\"Reset\" @click.prevent=\"reset\" />\n      </div>\n      <p> <a href=\"#\" class=\"bul\">Advanced search</a><br />\n        <a href=\"#\" class=\"bul\">Contact Customer Support</a> </p>\n    </form>\n  </div>\n</div>\n</template>\n\n<script>\nimport products from '../data/Products';\nimport categories from '../data/Categories';\n\nexport default {\n  components: {\n\n  },\n  props: ['categoryId', 'priceFrom', 'priceTo', 'keyWord'],\n  watch: {\n    categoryId(value) {\n      this.currentCategoryId = value;\n    },\n    priceFrom(value) {\n      this.currentPriceFrom = value;\n    },\n    priceTo(value) {\n      this.currentPriceTo = value;\n    },\n    keyWord(value) {\n      this.currentKeyWord = value;\n    },\n  },\n  data() {\n    return {\n      currentCategoryId: 0,\n      currentPriceFrom: 0,\n      currentPriceTo: 0,\n      currentKeyWord: '',\n    };\n  },\n  methods: {\n    submit() {\n      this.$emit('update:categoryId', this.currentCategoryId);\n      this.$emit('update:priceFrom', this.currentPriceFrom);\n      this.$emit('update:priceTo', this.currentPriceTo);\n      this.$emit('update:keyWord', this.currentKeyWord);\n    },\n    reset() {\n      this.$emit('update:categoryId', 0);\n      this.$emit('update:priceFrom', 0);\n      this.$emit('update:priceTo', 0);\n      this.$emit('update:keyWord', '');\n    },\n  },\n  computed: {\n    filterRangePrice() {\n      const prods = products;\n      prods.sort((a, b) => a.price - b.price);\n      const startPrice = Math.floor(prods[0].price);\n      const endPrice = Math.ceil(prods[prods.length - 1].price / 10) * 10;\n      const range = [];\n      const numberDigit = String(endPrice - startPrice).length;\n      let step = (endPrice - startPrice) / 10;\n      step /= (10 ** (numberDigit - 2));\n      step = Math.round(step * (10 ** (numberDigit - 3))) * 10;\n      range.push(0);\n      let val = Math.floor(startPrice / 10) * 10;\n      while (val < endPrice) {\n        range.push(val);\n        val += step;\n      }\n      range.push(endPrice);\n\n      return range;\n    },\n    categories() {\n      return categories;\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\">\n.search { min-height:252px;}\n.search label { display:block; padding-bottom:3px; }\n\n.search .field { display:block; margin-bottom:10px; }\n.search .inline-field label { display:inline; padding:0; }\n.search .inline-field .field { display:inline; margin:0; }\n.search input.field { width:206px; }\n.search select.field { width:212px; }\n.search select.small-field { width:60px; }\n\n.search-submit {\n  width:70px; background:#8b0000; border:0; color:#fff; height:27px;\n  display:inline; line-height:26px; cursor:pointer; margin:12px 10px 10px 0px;}\n\n.field { background:#ebebeb; border:solid 1px #dedede; padding:2px;}\n</style>\n"]},"metadata":{},"sourceType":"module"}